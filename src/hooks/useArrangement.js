import { useState, useEffect } from 'react';
import { Dropdown, Space } from 'antd'
import { get } from 'lodash';
import { useDispatch, useSelector } from '@/hooks/useDvaTools'
import request from '@/utils/request';
import svg2pngFile from '@/utils/new.svg2pngFile'
import Icon from '@ant-design/icons';

const ThreeSvg = () => (
    <svg t="1741184012164" class="icon" viewBox="0 0 1555 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1635" width="32" height="32"><path d="M1083.076923 334.769231V0h472.615385v334.769231H1083.076923z m469.543385 551.384615H1083.076923V551.384615h469.543385v334.769231zM551.384615 551.384615h452.923077v334.769231H551.384615V551.384615z m0-551.384615h452.923077v334.769231H551.384615V0zM0 551.384615h472.615385v334.769231H0V551.384615zM0 0h472.615385v334.769231H0V0z" fill="#B9C4D2" p-id="1636"></path><path d="M1516.307692 472.615385H1122.461538a39.384615 39.384615 0 1 1 0-78.769231h393.846154a39.384615 39.384615 0 1 1 0 78.769231zM964.923077 1024H590.769231a39.384615 39.384615 0 0 1 0-78.769231h374.153846a39.384615 39.384615 0 0 1 0 78.769231z m0-551.384615H590.769231a39.384615 39.384615 0 0 1 0-78.769231h374.153846a39.384615 39.384615 0 0 1 0 78.769231zM433.230769 1024H39.384615a39.384615 39.384615 0 1 1 0-78.769231h393.846154a39.384615 39.384615 0 1 1 0 78.769231z m0-551.384615H39.384615a39.384615 39.384615 0 0 1 0-78.769231h393.846154a39.384615 39.384615 0 1 1 0 78.769231z m689.230769 472.615384h393.846154a39.384615 39.384615 0 1 1 0 78.769231H1122.461538a39.384615 39.384615 0 1 1 0-78.769231z" fill="#DCE1E8" p-id="1637"></path></svg>
)

const FourSvg = () => (
    <svg t="1741186432883" class="icon" viewBox="0 0 1555 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1798" width="32" height="32"><path d="M1181.538462 886.153846V551.384615h374.153846v334.769231H1181.538462z m0-886.153846h374.153846v334.769231H1181.538462V0zM787.692308 551.384615h374.153846v334.769231H787.692308V551.384615z m0-551.384615h374.153846v334.769231H787.692308V0zM393.846154 551.384615h374.153846v334.769231H393.846154V551.384615z m0-551.384615h374.153846v334.769231H393.846154V0zM0 551.384615h374.153846v334.769231H0V551.384615zM0 0h374.153846v334.769231H0V0z" fill="#B9C4D2" p-id="1799"></path><path d="M1516.307692 472.615385H1228.307692a39.384615 39.384615 0 1 1 0-78.769231H1516.307692a39.384615 39.384615 0 0 1 0 78.769231zM1114.466462 1024H826.466462a39.384615 39.384615 0 1 1 0-78.769231h288a39.384615 39.384615 0 1 1 0 78.769231z m0-551.384615H826.466462a39.384615 39.384615 0 0 1 0-78.769231h288a39.384615 39.384615 0 0 1 0 78.769231zM729.225846 1024H441.225846a39.384615 39.384615 0 1 1 0-78.769231h288a39.384615 39.384615 0 1 1 0 78.769231z m0-551.384615H441.225846a39.384615 39.384615 0 0 1 0-78.769231h288a39.384615 39.384615 0 0 1 0 78.769231zM327.384615 1024H39.384615a39.384615 39.384615 0 1 1 0-78.769231h288a39.384615 39.384615 0 1 1 0 78.769231z m0-551.384615H39.384615a39.384615 39.384615 0 1 1 0-78.769231h288a39.384615 39.384615 0 1 1 0 78.769231z m900.923077 472.615384H1516.307692a39.384615 39.384615 0 0 1 0 78.769231H1228.307692a39.384615 39.384615 0 1 1 0-78.769231z" fill="#DCE1E8" p-id="1800"></path></svg>
)
const FiveSvg = () => (
    <svg t="1741186453004" class="icon" viewBox="0 0 1555 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2122" width="32" height="32"><path d="M1279.212308 886.153846V551.384615h275.692307v334.769231h-275.692307z m0-886.153846h275.692307v334.769231h-275.692307V0zM964.923077 551.384615h275.692308v334.769231H964.923077V551.384615z m0-551.384615h275.692308v334.769231H964.923077V0zM630.153846 551.384615h295.384616v334.769231H630.153846V551.384615z m0-551.384615h295.384616v334.769231H630.153846V0zM315.076923 551.384615h275.692308v334.769231H315.076923V551.384615z m0-551.384615h275.692308v334.769231H315.076923V0zM0 551.384615h275.692308v334.769231H0V551.384615zM0 0h275.692308v334.769231H0V0z" fill="#B9C4D2" p-id="2123"></path><path d="M1515.697231 472.615385h-196.923077a39.384615 39.384615 0 0 1 0-78.769231h196.923077a39.384615 39.384615 0 0 1 0 78.769231zM1204.913231 1024h-196.923077a39.384615 39.384615 0 1 1 0-78.769231h196.923077a39.384615 39.384615 0 1 1 0 78.769231z m0-551.384615h-196.923077a39.384615 39.384615 0 1 1 0-78.769231h196.923077a39.384615 39.384615 0 1 1 0 78.769231zM888.615385 1024h-216.615385a39.384615 39.384615 0 0 1 0-78.769231h216.615385a39.384615 39.384615 0 0 1 0 78.769231z m0-551.384615h-216.615385a39.384615 39.384615 0 0 1 0-78.769231h216.615385a39.384615 39.384615 0 0 1 0 78.769231z m-329.846154 551.384615h-196.923077a39.384615 39.384615 0 1 1 0-78.769231h196.923077a39.384615 39.384615 0 1 1 0 78.769231z m0-551.384615h-196.923077a39.384615 39.384615 0 0 1 0-78.769231h196.923077a39.384615 39.384615 0 1 1 0 78.769231zM236.307692 1024H39.384615a39.384615 39.384615 0 0 1 0-78.769231h196.923077a39.384615 39.384615 0 0 1 0 78.769231z m0-551.384615H39.384615a39.384615 39.384615 0 0 1 0-78.769231h196.923077a39.384615 39.384615 0 0 1 0 78.769231z m1082.466462 472.615384h196.923077a39.384615 39.384615 0 1 1 0 78.769231h-196.923077a39.384615 39.384615 0 1 1 0-78.769231z" fill="#DCE1E8" p-id="2124"></path></svg>
)

const ArrangementIconMap = {
    '3': <Icon component={ThreeSvg}/>,
    '4': <Icon component={FourSvg}/>,
    '5': <Icon component={FiveSvg}/>
}
const useArrangement = (children) => {
  const [arrangement, setAarrangement] = useState('5')
  const [visibleStylesSelectorModal, setVisibleStylesSelectorModal] = useState(false);

  const items = [
    { label: '一行5个', key: '5' }, // 菜单项务必填写 key
    { label: '一行4个', key: '4' },
    { label: '一行3个', key: '3' },
  ]
  const menu = {
    onSelect: ({key}) => {
        console.log('onSelect key', key)
    },
    onClick: ({key}) => {
        setAarrangement(key)
        console.log('onClick key', key)
    },
    items
  }

  const ArrangmentDropdown = <Dropdown menu={menu}>
        <Space>
            {ArrangementIconMap[arrangement]}
            {children}
        </Space>
    </Dropdown>

  return {

    arrangement,
    ArrangmentDropdown

 };
};

export default useArrangement;